import { toHex } from 'multiformats/bytes';
import { MULTIHASH_CODES } from './index.js';
export function constructPieceUrl(retrievalEndpoint, commp) {
    const endpoint = retrievalEndpoint.replace(/\/$/, '');
    return `${endpoint}/piece/${commp.toString()}`;
}
export function constructFindPieceUrl(apiEndpoint, commp, size = 0) {
    const endpoint = apiEndpoint.replace(/\/$/, '');
    const hashBytes = commp.multihash.digest;
    const hashHex = toHex(hashBytes);
    const params = new URLSearchParams({
        name: MULTIHASH_CODES.SHA2_256_TRUNC254_PADDED,
        hash: hashHex,
        size: size.toString()
    });
    return `${endpoint}/pdp/piece?${params.toString()}`;
}
//# sourceMappingURL=piece.js.map