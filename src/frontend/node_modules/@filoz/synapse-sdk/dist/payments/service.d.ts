import { ethers } from 'ethers';
import type { TokenAmount, TokenIdentifier, FilecoinNetworkType } from '../types.js';
export interface DepositCallbacks {
    onAllowanceCheck?: (current: bigint, required: bigint) => void;
    onApprovalTransaction?: (tx: ethers.TransactionResponse) => void;
    onApprovalConfirmed?: (receipt: ethers.TransactionReceipt) => void;
    onDepositStarting?: () => void;
}
export declare class PaymentsService {
    private readonly _provider;
    private readonly _signer;
    private readonly _network;
    private readonly _disableNonceManager;
    private _usdfcContract;
    private _paymentsContract;
    constructor(provider: ethers.Provider, signer: ethers.Signer, network: FilecoinNetworkType, disableNonceManager: boolean);
    private _getUsdfcContract;
    private _getPaymentsContract;
    balance(token?: TokenIdentifier): Promise<bigint>;
    accountInfo(token?: TokenIdentifier): Promise<{
        funds: bigint;
        lockupCurrent: bigint;
        lockupRate: bigint;
        lockupLastSettledAt: bigint;
        availableFunds: bigint;
    }>;
    getCurrentEpoch(): Promise<bigint>;
    walletBalance(token?: TokenIdentifier): Promise<bigint>;
    decimals(token?: TokenIdentifier): number;
    allowance(token: TokenIdentifier, spender: string): Promise<bigint>;
    approve(token: TokenIdentifier, spender: string, amount: TokenAmount): Promise<ethers.TransactionResponse>;
    approveService(service: string, rateAllowance: TokenAmount, lockupAllowance: TokenAmount, token?: TokenIdentifier): Promise<ethers.TransactionResponse>;
    revokeService(service: string, token?: TokenIdentifier): Promise<ethers.TransactionResponse>;
    serviceApproval(service: string, token?: TokenIdentifier): Promise<{
        isApproved: boolean;
        rateAllowance: bigint;
        rateUsed: bigint;
        lockupAllowance: bigint;
        lockupUsed: bigint;
    }>;
    deposit(amount: TokenAmount, token?: TokenIdentifier, callbacks?: DepositCallbacks): Promise<ethers.TransactionResponse>;
    withdraw(amount: TokenAmount, token?: TokenIdentifier): Promise<ethers.TransactionResponse>;
}
//# sourceMappingURL=service.d.ts.map